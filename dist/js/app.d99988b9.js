(function(e){function t(t){for(var r,a,o=t[0],i=t[1],l=t[2],s=0,f=[];s<o.length;s++)a=o[s],Object.prototype.hasOwnProperty.call(u,a)&&u[a]&&f.push(u[a][0]),u[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);b&&b(t);while(f.length)f.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==u[i]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},u={app:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var b=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"138b":function(e,t,n){"use strict";n("b5e0")},3462:function(e,t,n){"use strict";n("4304")},4304:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),u={class:"container"};function c(e,t,n,c,a,o){var i=Object(r["w"])("Navbar"),l=Object(r["w"])("router-view");return Object(r["r"])(),Object(r["e"])("div",u,[Object(r["h"])(i),Object(r["h"])(l)])}var a=Object(r["f"])("h1",null,"My Book List",-1),o={key:0},i=Object(r["g"])("Home"),l={key:1},b=Object(r["g"])("Login"),s=Object(r["g"])("Signup"),f={key:0};function p(e,t,n,u,c,p){var O=Object(r["w"])("router-link");return Object(r["r"])(),Object(r["e"])("div",null,[Object(r["f"])("nav",null,[a,u.user?(Object(r["r"])(),Object(r["e"])("div",o,[Object(r["h"])(O,{to:"/"},{default:Object(r["D"])((function(){return[i]})),_:1}),Object(r["f"])("button",{onClick:t[0]||(t[0]=function(){return u.handleClick&&u.handleClick.apply(u,arguments)})},"Logout")])):Object(r["d"])("",!0),u.user?Object(r["d"])("",!0):(Object(r["r"])(),Object(r["e"])("div",l,[Object(r["h"])(O,{to:"/login"},{default:Object(r["D"])((function(){return[b]})),_:1}),Object(r["h"])(O,{to:"/signup"},{default:Object(r["D"])((function(){return[s]})),_:1})]))]),u.user?(Object(r["r"])(),Object(r["e"])("p",f,"logged in as "+Object(r["y"])(u.user.email),1)):Object(r["d"])("",!0)])}var O=n("260b"),j=n("e71f"),d=n("ea7b"),v={apiKey:"AIzaSyCcSHnQTxRgasduD1LUwHBQbendExqyF1A",authDomain:"fb9-reading-list-c64f2.firebaseapp.com",projectId:"fb9-reading-list-c64f2",storageBucket:"fb9-reading-list-c64f2.appspot.com",messagingSenderId:"942007464692",appId:"1:942007464692:web:953c7c8b838f2a501ce4a1"};Object(O["a"])(v);var m=Object(j["e"])(),h=Object(d["b"])(),g=Object(r["u"])(h.currentUser);Object(d["c"])(h,(function(e){console.log("User state change. Current user is:",e),g.value=e}));var w=function(){return{user:g}},y=w,k=n("6c02"),x={setup:function(){var e=y(),t=e.user,n=Object(k["c"])(),u=function(){Object(d["e"])(h)};return Object(r["C"])((function(){t.value||n.push("/login")})),{handleClick:u,user:t}}},S=(n("138b"),n("6b0d")),C=n.n(S);const U=C()(x,[["render",p]]);var E=U,P={components:{Navbar:E}};n("7f28");const R=C()(P,[["render",c]]);var A=R,B={class:"home"},F={class:"details"},_=["onClick"],L=["onClick"],q=Object(r["f"])("span",{class:"material-icons"},"favorite",-1),D=[q];function H(e,t,n,u,c,a){var o=Object(r["w"])("CreateBookForm");return Object(r["r"])(),Object(r["e"])("div",B,[Object(r["f"])("ul",null,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["v"])(u.books,(function(e){return Object(r["r"])(),Object(r["e"])("li",{key:e.id},[Object(r["f"])("div",F,[Object(r["f"])("h3",{onClick:function(t){return u.handleDelete(e)}},Object(r["y"])(e.title),9,_),Object(r["f"])("p",null,"By "+Object(r["y"])(e.author),1)]),Object(r["f"])("div",{class:Object(r["n"])({icon:!0,fav:e.isFav}),onClick:function(t){return u.handleUpdate(e)}},D,10,L)])})),128))]),Object(r["h"])(o)])}var V=Object(r["f"])("h3",null,"Add a New Book",-1),M=Object(r["f"])("label",{for:"title"},"Book title:",-1),I=Object(r["f"])("label",{for:"author"},"Book author:",-1),N=Object(r["f"])("button",null,"Add Book",-1);function T(e,t,n,u,c,a){return Object(r["r"])(),Object(r["e"])("form",{onSubmit:t[2]||(t[2]=Object(r["F"])((function(){return u.handleSubmit&&u.handleSubmit.apply(u,arguments)}),["prevent"]))},[V,M,Object(r["E"])(Object(r["f"])("input",{type:"text",name:"title","onUpdate:modelValue":t[0]||(t[0]=function(e){return u.title=e}),required:""},null,512),[[r["A"],u.title]]),I,Object(r["E"])(Object(r["f"])("input",{type:"text",name:"author","onUpdate:modelValue":t[1]||(t[1]=function(e){return u.author=e}),required:""},null,512),[[r["A"],u.author]]),N],32)}var J=n("1da1"),Q=(n("96cf"),{setup:function(){var e=y(),t=e.user,n=Object(r["u"])(""),u=Object(r["u"])(""),c=function(){var e=Object(J["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(j["b"])(m,"books"),e.next=3,Object(j["a"])(r,{title:n.value,author:u.value,isFav:!1,userUid:t.value.uid});case 3:n.value="",u.value="";case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{handleSubmit:c,title:n,author:u}}});n("3462");const z=C()(Q,[["render",T]]);var K=z,G=n("5530"),W=n("2909"),X=(n("d3b7"),n("159b"),function(e,t){var n,u=Object(r["u"])(null),c=Object(j["b"])(m,e);t&&((n=console).log.apply(n,Object(W["a"])(t)),c=Object(j["g"])(c,j["i"].apply(void 0,Object(W["a"])(t))));var a=Object(j["f"])(c,(function(e){var t=[];e.docs.forEach((function(e){t.push(Object(G["a"])(Object(G["a"])({},e.data()),{},{id:e.id}))})),u.value=t}));return Object(r["C"])((function(e){e((function(){return a()}))})),{documents:u}}),Y=X,Z={name:"Home",components:{CreateBookForm:K},setup:function(){var e=y(),t=e.user,n=Y("books",["userUid","==",t.value.uid]),r=n.documents,u=function(e){var t=Object(j["d"])(m,"books",e.id);Object(j["c"])(t)},c=function(e){var t=Object(j["d"])(m,"books",e.id);Object(j["h"])(t,{isFav:!e.isFav})};return{books:r,handleDelete:u,handleUpdate:c}}};n("6018");const $=C()(Z,[["render",H]]);var ee=$,te=Object(r["f"])("h2",null,"Login",-1),ne=Object(r["f"])("label",{for:"email"},"Email:",-1),re=Object(r["f"])("label",{for:"password"},"Password:",-1),ue=Object(r["f"])("button",null,"Login",-1),ce={key:0};function ae(e,t,n,u,c,a){return Object(r["r"])(),Object(r["e"])("form",{onSubmit:t[2]||(t[2]=Object(r["F"])((function(){return u.handleSubmit&&u.handleSubmit.apply(u,arguments)}),["prevent"]))},[te,ne,Object(r["E"])(Object(r["f"])("input",{type:"email",name:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return u.email=e}),required:""},null,512),[[r["A"],u.email]]),re,Object(r["E"])(Object(r["f"])("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return u.password=e}),required:""},null,512),[[r["A"],u.password]]),ue,u.error?(Object(r["r"])(),Object(r["e"])("div",ce,Object(r["y"])(u.error),1)):Object(r["d"])("",!0)],32)}var oe=Object(r["u"])(null),ie=Object(r["u"])(!1),le=function(){var e=Object(J["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return oe.value=null,ie.value=!0,e.prev=2,e.next=5,Object(d["d"])(h,t,n);case 5:if(r=e.sent,r){e.next=8;break}throw new Error("Could not login");case 8:oe.value=null,ie.value=!1,e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](2),console.log(e.t0.message),oe.value=e.t0.message,ie.value=!1;case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}(),be=function(){return{error:oe,login:le,isPending:ie}},se=be,fe={setup:function(){var e=se(),t=e.login,n=e.error,u=Object(k["c"])(),c=Object(r["u"])(""),a=Object(r["u"])(""),o=function(){var e=Object(J["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t(c.value,a.value);case 2:n.value||u.push({name:"Home"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{email:c,password:a,handleSubmit:o,error:n}}};const pe=C()(fe,[["render",ae]]);var Oe=pe,je=Object(r["f"])("h2",null,"Sign up",-1),de=Object(r["f"])("label",{for:"email"},"Email:",-1),ve=Object(r["f"])("label",{for:"password"},"Password:",-1),me=Object(r["f"])("button",null,"Sign up",-1),he={key:0};function ge(e,t,n,u,c,a){return Object(r["r"])(),Object(r["e"])("form",{onSubmit:t[2]||(t[2]=Object(r["F"])((function(){return u.handleSubmit&&u.handleSubmit.apply(u,arguments)}),["prevent"]))},[je,de,Object(r["E"])(Object(r["f"])("input",{type:"email",name:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return u.email=e}),required:""},null,512),[[r["A"],u.email]]),ve,Object(r["E"])(Object(r["f"])("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return u.password=e}),required:""},null,512),[[r["A"],u.password]]),me,u.error?(Object(r["r"])(),Object(r["e"])("div",he,Object(r["y"])(u.error),1)):Object(r["d"])("",!0)],32)}var we=Object(r["u"])(null),ye=Object(r["u"])(!1),ke=function(){var e=Object(J["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return we.value=null,ye.value=!0,e.prev=2,e.next=5,Object(d["a"])(h,t,n);case 5:if(r=e.sent,r){e.next=8;break}throw new Error("Could not complete signup");case 8:we.value=null,ye.value=!1,e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](2),console.log(e.t0.message),we.value=e.t0.message,ye.value=!1;case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}(),xe=function(){return{error:we,isPending:ye,signup:ke}},Se=xe,Ce={setup:function(){var e=Object(r["u"])(""),t=Object(r["u"])(""),n=Se(),u=n.signup,c=n.error,a=Object(k["c"])(),o=function(){var n=Object(J["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,u(e.value,t.value);case 2:c.value||a.push("/");case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{email:e,password:t,handleSubmit:o,error:c}}};const Ue=C()(Ce,[["render",ge]]);var Ee,Pe=Ue,Re=function(e,t,n){var r=h.currentUser;r?n():n({name:"Login"})},Ae=[{path:"/",name:"Home",component:ee,beforeEnter:Re},{path:"/login",name:"Login",component:Oe},{path:"/signup",name:"Signup",component:Pe}],Be=Object(k["a"])({history:Object(k["b"])("/"),routes:Ae}),Fe=Be;Object(d["c"])(h,(function(){Ee||(Ee=Object(r["c"])(A).use(Fe).mount("#app"))}))},6018:function(e,t,n){"use strict";n("aeca")},"7f28":function(e,t,n){"use strict";n("f554")},aeca:function(e,t,n){},b5e0:function(e,t,n){},f554:function(e,t,n){}});
//# sourceMappingURL=app.d99988b9.js.map